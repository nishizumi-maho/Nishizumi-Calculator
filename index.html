<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Drive Fair Share Calculator</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="container">
      <header class="hero">
        <p class="eyebrow" data-i18n="eyebrow">iRacing Team Events â€¢ Drive Fair Share</p>
        <h1 data-i18n="title">Fair Share Calculator</h1>
        <p class="lede" data-i18n="lede">
          Find the minimum laps and approximate time each driver must complete to comply with the iRacing team event
          fair share rule.
        </p>
        <div class="language-switcher" role="group" aria-label="Select language">
          <button class="language-button" type="button" data-lang="en-US" aria-label="English (United States)">ðŸ‡ºðŸ‡¸</button>
          <button class="language-button" type="button" data-lang="pt-BR" aria-label="PortuguÃªs (Brasil)">ðŸ‡§ðŸ‡·</button>
          <button class="language-button" type="button" data-lang="de-DE" aria-label="Deutsch (Deutschland)">ðŸ‡©ðŸ‡ª</button>
          <button class="language-button" type="button" data-lang="fr-FR" aria-label="FranÃ§ais (France)">ðŸ‡«ðŸ‡·</button>
          <button class="language-button" type="button" data-lang="es-ES" aria-label="EspaÃ±ol (EspaÃ±a)">ðŸ‡ªðŸ‡¸</button>
        </div>
      </header>

      <section class="card">
        <form class="form" id="fair-share-form" novalidate>
          <div class="field">
            <label for="total-laps" data-i18n="totalLapsLabel">Team total laps</label>
            <input
              type="number"
              id="total-laps"
              name="total-laps"
              min="1"
              step="1"
              placeholder="e.g. 827"
              data-i18n-placeholder="totalLapsPlaceholder"
              required
            />
          </div>
          <div class="field">
            <label for="drivers" data-i18n="driversLabel">Declared drivers</label>
            <input
              type="number"
              id="drivers"
              name="drivers"
              min="1"
              step="1"
              placeholder="e.g. 6"
              data-i18n-placeholder="driversPlaceholder"
              required
            />
          </div>
          <fieldset class="field-group">
            <legend data-i18n="avgLapLegend">Average lap time (optional)</legend>
            <div class="inline-fields">
              <div class="field">
                <label for="avg-lap-minutes" data-i18n="avgLapMinutesLabel">Minutes</label>
                <input
                  type="number"
                  id="avg-lap-minutes"
                  name="avg-lap-minutes"
                  min="0"
                  step="1"
                  placeholder="e.g. 2"
                  data-i18n-placeholder="avgLapMinutesPlaceholder"
                />
              </div>
              <div class="field">
                <label for="avg-lap-seconds" data-i18n="avgLapSecondsLabel">Seconds</label>
                <input
                  type="number"
                  id="avg-lap-seconds"
                  name="avg-lap-seconds"
                  min="0"
                  max="59"
                  step="1"
                  placeholder="e.g. 15"
                  data-i18n-placeholder="avgLapSecondsPlaceholder"
                />
              </div>
            </div>
            <p class="helper" data-i18n="avgLapHelper">
              Use this field to estimate on-track hours/minutes per driver.
            </p>
          </fieldset>
          <button type="submit" class="primary" data-i18n="submitButton">Calculate fair share</button>
          <p class="helper" id="form-message" role="status" aria-live="polite"></p>
        </form>
      </section>

      <section class="results" aria-live="polite">
        <div class="result-card">
          <h2 data-i18n="equalShareTitle">Equal share</h2>
          <p class="value" id="equal-share">â€”</p>
          <p class="caption" data-i18n="equalShareCaption">
            Total laps Ã· drivers (rounded up).
          </p>
        </div>
        <div class="result-card">
          <h2 data-i18n="fairShareTitle">Minimum fair share</h2>
          <p class="value" id="fair-share">â€”</p>
          <p class="caption" data-i18n="fairShareCaption">25% of the equal share (rounded up).</p>
        </div>
        <div class="result-card">
          <h2 data-i18n="raceTimeTitle">Estimated total time</h2>
          <p class="value" id="race-time">â€”</p>
          <p class="caption" data-i18n="raceTimeCaption">
            Based on total laps Ã— average lap time.
          </p>
        </div>
        <div class="result-card">
          <h2 data-i18n="equalShareTimeTitle">Time per driver (equal share)</h2>
          <p class="value" id="equal-share-time">â€”</p>
          <p class="caption" data-i18n="equalShareTimeCaption">
            Approximate time per driver at equal share.
          </p>
        </div>
        <div class="result-card">
          <h2 data-i18n="fairShareTimeTitle">Time per driver (fair share)</h2>
          <p class="value" id="fair-share-time">â€”</p>
          <p class="caption" data-i18n="fairShareTimeCaption">
            Minimum time per driver to stay compliant.
          </p>
        </div>
      </section>

      <section class="card rules">
        <h2 data-i18n="rulesTitle">Drive Fair Share Rule</h2>
        <p data-i18n="rulesBody">
          All declared drivers must complete a fair share of the teamâ€™s laps. Fair share equals at least 25% of the
          equal share. Equal share is total laps divided by the number of declared drivers, rounded up to the next
          whole lap.
        </p>
        <div class="examples">
          <article>
            <h3 data-i18n="exampleATitle">Example A</h3>
            <p data-i18n="exampleABody">
              Total laps: 827 â€¢ Drivers: 6 â€¢ Equal share: 138 laps â€¢ Fair share: 35 laps.
            </p>
          </article>
          <article>
            <h3 data-i18n="exampleBTitle">Example B</h3>
            <p data-i18n="exampleBBody">
              Total laps: 500 â€¢ Drivers: 18 â€¢ Equal share: 28 laps â€¢ Fair share: 7 laps.
            </p>
          </article>
        </div>
      </section>

      <footer class="footer">
        <p data-i18n="footerText">
          Use this tool to plan stints and ensure every driver meets the fair share.
        </p>
      </footer>
    </main>

    <script src="script.js"></script>
  </body>
</html>
