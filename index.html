<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Drive Fair Share Calculator</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="container">
      <header class="hero">
        <p class="eyebrow" data-i18n="eyebrow">iRacing Team Events • Drive Fair Share</p>
        <h1 data-i18n="title">Fair Share Calculator</h1>
        <p class="lede" data-i18n="lede">
          Find the minimum laps and approximate time each driver must complete to comply with the iRacing team event
          fair share rule.
        </p>
        <div class="language-switcher" role="group" aria-label="Select language">
          <button class="language-button" type="button" data-lang="en-US" aria-label="English">
            <img src="https://flagcdn.com/us.svg" alt="United States flag" loading="lazy" />
          </button>
          <button class="language-button" type="button" data-lang="pt-BR" aria-label="Português (Brasil)">
            <img src="https://flagcdn.com/br.svg" alt="Brazil flag" loading="lazy" />
          </button>
          <button class="language-button" type="button" data-lang="de-DE" aria-label="Deutsch (Deutschland)">
            <img src="https://flagcdn.com/de.svg" alt="Germany flag" loading="lazy" />
          </button>
          <button class="language-button" type="button" data-lang="fr-FR" aria-label="Français (France)">
            <img src="https://flagcdn.com/fr.svg" alt="France flag" loading="lazy" />
          </button>
          <button class="language-button" type="button" data-lang="es-ES" aria-label="Español (España)">
            <img src="https://flagcdn.com/es.svg" alt="Spain flag" loading="lazy" />
          </button>
        </div>
      </header>

      <section class="card">
        <form class="form" id="fair-share-form" novalidate>
          <div class="field">
            <label for="total-laps" data-i18n="totalLapsLabel">Team total laps</label>
            <input
              type="number"
              id="total-laps"
              name="total-laps"
              min="1"
              step="1"
              placeholder="e.g. 827"
              data-i18n-placeholder="totalLapsPlaceholder"
            />
          </div>
          <div class="field">
            <label for="drivers" data-i18n="driversLabel">Declared drivers</label>
            <input
              type="number"
              id="drivers"
              name="drivers"
              min="1"
              step="1"
              placeholder="e.g. 6"
              data-i18n-placeholder="driversPlaceholder"
              required
            />
          </div>
          <fieldset class="field-group">
            <legend data-i18n="avgLapLegend">Average lap time (optional)</legend>
            <div class="inline-fields">
              <div class="field">
                <label for="avg-lap-minutes" data-i18n="avgLapMinutesLabel">Minutes</label>
                <input
                  type="number"
                  id="avg-lap-minutes"
                  name="avg-lap-minutes"
                  min="0"
                  step="1"
                  placeholder="e.g. 2"
                  data-i18n-placeholder="avgLapMinutesPlaceholder"
                />
              </div>
              <div class="field">
                <label for="avg-lap-seconds" data-i18n="avgLapSecondsLabel">Seconds</label>
                <input
                  type="number"
                  id="avg-lap-seconds"
                  name="avg-lap-seconds"
                  min="0"
                  max="59"
                  step="1"
                  placeholder="e.g. 15"
                  data-i18n-placeholder="avgLapSecondsPlaceholder"
                />
              </div>
            </div>
            <p class="helper" data-i18n="avgLapHelper">
              Use this field to estimate on-track hours/minutes per driver.
            </p>
          </fieldset>
          <fieldset class="field-group">
            <legend data-i18n="raceDurationLegend">Total race time (optional)</legend>
            <div class="inline-fields">
              <div class="field">
                <label for="race-hours" data-i18n="raceHoursLabel">Hours</label>
                <input
                  type="number"
                  id="race-hours"
                  name="race-hours"
                  min="0"
                  step="1"
                  placeholder="e.g. 24"
                  data-i18n-placeholder="raceHoursPlaceholder"
                />
              </div>
              <div class="field">
                <label for="race-minutes" data-i18n="raceMinutesLabel">Minutes</label>
                <input
                  type="number"
                  id="race-minutes"
                  name="race-minutes"
                  min="0"
                  max="59"
                  step="1"
                  placeholder="e.g. 0"
                  data-i18n-placeholder="raceMinutesPlaceholder"
                />
              </div>
            </div>
            <p class="helper" data-i18n="raceDurationHelper">
              Add total race time to estimate total laps using the average lap time.
            </p>
          </fieldset>
          <button type="submit" class="primary" data-i18n="submitButton">Calculate fair share</button>
          <p class="helper" id="form-message" role="status" aria-live="polite"></p>
        </form>
      </section>

      <section class="results" aria-live="polite">
        <div class="result-card">
          <h2 data-i18n="equalShareTitle">Equal share</h2>
          <p class="value" id="equal-share">—</p>
          <p class="caption" data-i18n="equalShareCaption">
            Total laps ÷ drivers (rounded up).
          </p>
        </div>
        <div class="result-card">
          <h2 data-i18n="fairShareTitle">Minimum fair share</h2>
          <p class="value" id="fair-share">—</p>
          <p class="caption" data-i18n="fairShareCaption">25% of the equal share (rounded up).</p>
        </div>
        <div class="result-card">
          <h2 data-i18n="raceTimeTitle">Estimated total time</h2>
          <p class="value" id="race-time">—</p>
          <p class="caption" data-i18n="raceTimeCaption">
            Based on total laps × average lap time.
          </p>
        </div>
        <div class="result-card">
          <h2 data-i18n="equalShareTimeTitle">Time per driver (equal share)</h2>
          <p class="value" id="equal-share-time">—</p>
          <p class="caption" data-i18n="equalShareTimeCaption">
            Approximate time per driver at equal share.
          </p>
        </div>
        <div class="result-card">
          <h2 data-i18n="fairShareTimeTitle">Time per driver (fair share)</h2>
          <p class="value" id="fair-share-time">—</p>
          <p class="caption" data-i18n="fairShareTimeCaption">
            Minimum time per driver to stay compliant.
          </p>
        </div>
      </section>

      <section class="card rules">
        <h2 data-i18n="rulesTitle">Drive Fair Share Rule</h2>
        <p data-i18n="rulesBody">
          All declared drivers must complete a fair share of the team’s laps. Fair share equals at least 25% of the
          equal share. Equal share is total laps divided by the number of declared drivers, rounded up to the next
          whole lap.
        </p>
        <div class="examples">
          <article>
            <h3 data-i18n="exampleATitle">Example A</h3>
            <p data-i18n="exampleABody">
              Total laps: 827 • Drivers: 6 • Equal share: 138 laps • Fair share: 35 laps.
            </p>
          </article>
          <article>
            <h3 data-i18n="exampleBTitle">Example B</h3>
            <p data-i18n="exampleBBody">
              Total laps: 500 • Drivers: 18 • Equal share: 28 laps • Fair share: 7 laps.
            </p>
          </article>
        </div>
      </section>

      <footer class="footer">
        <p data-i18n="footerText">
          Use this tool to plan stints and ensure every driver meets the fair share.
        </p>
      </footer>
    </main>

    <script src="script.js"></script>
  </body>
</html>
